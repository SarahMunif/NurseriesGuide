{% extends 'main/base.html' %}
{% load static %}

{% block title %}Dashboard{% endblock %}

{% block hero %}

<section class="ylo-section-wrapper">
  <div class="container hero-padding py-3">
    <!-- Top row with notifications at start and welcome message at end -->
    <div class="d-flex justify-content-between align-items-center py-5 mt-5 mb-3">

      <!-- Collapsible Alerts Section now at the start -->
      <div class="d-flex flex-column align-items-center">
        <a data-bs-toggle="collapse" href="#multiCollapseExample1" role="button" aria-expanded="false" aria-controls="multiCollapseExample1" class="d-flex flex-column align-items-center mt-2">
            <svg height="54px" width="54px" stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="35.7621 0.00127125 409.159 480.684" xmlns="http://www.w3.org/2000/svg">
                <defs />
                <clipPath id="ArtboardFrame">
                    <rect height="480.684" width="409.159" x="35.7621" y="0.00127125" />
                </clipPath>
                <g clip-path="url(#ArtboardFrame)" id="Layer">
                    <path d="M437.831 358.312C435.079 355.225 432.042 352.427 428.823 349.833C430.011 348.137 430.88 346.009 431.316 343.419C440.863 286.338 435.942 190.273 397.806 143.776C378.236 119.915 347.362 100.946 314.786 89.251C314.653 88.502 314.516 87.743 314.237 86.946C303.589 56.049 285.161-0.594 243.851 0.006C206.759 0.547 189.611 53.975 180.62 85.433C143.889 96.541 107.883 117.097 85.997 143.782C47.861 190.278 42.938 286.344 52.49 343.425C52.792 345.238 53.373 346.751 54.067 348.127C50.009 351.174 46.224 354.536 42.85 358.319C30.033 372.679 36.403 387.908 47.732 399.013C46.039 400.582 44.388 402.197 42.85 403.923C24.427 424.57 45.628 447.03 64.248 456.414C117.628 483.308 175.248 477.214 233.091 480.108C234.599 480.54 236.232 480.778 238.068 480.651C238.827 480.6 239.586 480.57 240.34 480.524C241.099 480.57 241.854 480.6 242.612 480.651C244.448 480.778 246.081 480.54 247.589 480.108C305.433 477.218 363.052 483.307 416.432 456.414C435.058 447.035 456.258 424.57 437.83 403.923C436.292 402.196 434.642 400.582 432.945 399.013C444.28 387.901 450.648 372.672 437.831 358.312ZM244.388 26.05C261.148 21.167 276.753 58.773 284.557 80.612C269.8 77.466 255.283 75.928 241.907 76.271C231.637 76.007 220.691 76.875 209.489 78.693C215.938 56.975 226.021 31.402 244.388 26.05ZM107.323 169.307C129.461 135.747 185.763 114.968 223.457 110.065C224.473 110.116 225.516 110.11 226.656 109.961C231.688 109.291 236.784 109.009 241.902 108.958C247.018 109.009 252.114 109.296 257.146 109.961C258.284 110.11 259.33 110.116 260.345 110.065C298.044 114.968 354.343 135.747 376.479 169.307C402.499 208.753 407.541 287.18 400.061 333.612C386.198 328.032 371.411 324.249 357.873 320.927C319.637 311.548 280.536 311.604 241.174 310.872C241.065 310.872 240.981 310.842 240.872 310.842C240.694 310.847 240.514 310.847 240.336 310.858C240.161 310.847 239.978 310.847 239.8 310.842C239.691 310.842 239.602 310.872 239.498 310.872C200.142 311.608 161.033 311.553 122.799 320.927C110.216 324.015 96.561 327.503 83.567 332.459C76.353 285.895 81.512 208.436 107.323 169.307ZM414.945 424.869C406.525 432.994 393.13 437.269 382.299 440.793C335.053 456.17 289.022 450.203 240.341 452.955C191.656 450.203 145.622 456.17 98.386 440.793C87.56 437.27 74.159 432.994 65.735 424.869C61.835 421.106 64.92 419.821 70.651 415.525C71.144 415.154 71.713 414.855 72.215 414.494C108.901 430.678 147.463 432.537 186.627 433.283C180.046 426.697 177.294 417.439 177.585 408.259C177.511 407.573 177.511 406.899 177.526 406.223C154.543 405.791 131.789 404.268 108.816 398.22C120.287 394.93 131.982 392.477 142.595 390.125C159.233 386.434 176.18 385.099 193.215 384.54C192.794 385.55 192.395 386.57 192.009 387.602C189.732 393.706 188.15 400.048 187.822 406.35C187.438 413.825 188.794 421.218 192.913 428.033C194.103 430.004 195.413 431.816 196.835 433.467C206.689 444.984 221.638 449.036 236.946 448.411C248.92 447.924 261.813 442.587 270.461 433.721C272.797 431.325 274.895 428.724 276.494 425.829C280.033 419.441 281.602 412.911 281.693 406.422C281.805 398.881 279.901 391.396 276.778 384.256C276.742 384.186 276.712 384.11 276.681 384.033C277.027 384.103 277.362 384.179 277.706 384.266C298.028 384.636 318.269 385.728 338.084 390.12C348.691 392.472 360.392 394.924 371.862 398.215C344.354 405.451 317.157 406.193 289.512 406.365C289.725 415.251 287.841 424.015 282.961 431.851C282.591 432.45 282.144 432.973 281.702 433.501C325.108 432.759 367.926 432.368 408.458 414.488C408.966 414.848 409.529 415.148 410.027 415.519C415.767 419.821 418.844 421.102 414.945 424.869ZM246.742 383.915C247.107 384.418 247.455 384.921 247.803 385.418C249.351 387.643 250.779 389.861 252.084 392.375C254.08 396.225 254.648 397.956 255.223 400.353C255.588 401.861 255.786 403.4 255.949 404.933C255.97 405.136 255.99 405.233 256.01 405.35C255.97 405.542 255.929 405.934 255.873 406.736C255.873 406.752 255.873 406.757 255.868 406.772C255.843 407.158 255.589 408.499 255.472 409.21C255.091 410.434 254.66 411.642 254.121 412.8C255.838 409.098 249.703 417.821 252.577 414.882C251.709 415.771 250.749 416.558 249.784 417.334C249.327 417.694 248.86 418.03 248.38 418.365C248.246 418.436 248.141 418.487 247.908 418.619C246.083 419.649 244.143 420.431 242.173 421.142C241.886 421.178 239.936 421.731 239.448 421.843C237.851 422.183 236.223 422.391 234.601 422.559C234.207 422.6 233.951 422.63 233.722 422.661C233.618 422.656 233.473 422.645 233.212 422.64C231.917 422.635 230.629 422.538 229.345 422.416C228.144 422.31 226.953 422.102 225.768 421.889C224.976 421.665 224.191 421.411 223.412 421.142C222.663 420.878 221.95 420.538 221.228 420.207C220.812 419.959 219.476 419.242 219.08 418.978C218.788 418.78 218.087 418.175 217.582 417.749C217.031 417.159 216.526 416.535 216.039 415.89C215.762 415.393 215.046 414.225 214.843 413.783C214.691 413.453 214.599 413.25 214.5 413.053C214.49 412.951 214.457 412.788 214.396 412.52C214.14 411.454 214.036 410.367 213.927 409.275C214.016 409.427 214.036 407.828 214.064 406.512C214.074 405.858 214.089 405.263 214.115 405.009C214.681 399.733 217.433 393.081 220.777 386.967C221.318 385.977 221.846 384.982 222.415 384.027C227.686 383.987 232.96 383.936 238.223 383.835C238.972 383.819 239.652 383.697 240.348 383.586C241.041 383.697 241.726 383.819 242.475 383.835C243.893 383.885 245.317 383.895 246.742 383.915ZM357.878 366.538C319.641 357.154 280.54 357.215 241.178 356.478C241.069 356.478 240.985 356.453 240.876 356.453C240.698 356.458 240.518 356.458 240.34 356.464C240.165 356.458 239.983 356.458 239.805 356.453C239.696 356.453 239.607 356.478 239.503 356.478C200.146 357.214 161.038 357.159 122.803 366.538C106.092 370.631 87.501 375.439 71.071 383.463C69.162 382.174 67.336 380.803 65.734 379.259C61.834 375.501 64.919 374.216 70.65 369.915C90.353 355.144 119.16 349.715 142.595 344.52C173.86 337.588 206.184 338.868 238.216 338.249C238.963 338.233 239.646 338.106 240.341 338C241.034 338.106 241.72 338.233 242.469 338.249C274.498 338.863 306.82 337.584 338.085 344.52C361.52 349.714 390.332 355.148 410.034 369.915C415.767 374.216 418.845 375.496 414.95 379.259C413.35 380.803 411.522 382.174 409.618 383.463C393.18 375.439 374.589 370.631 357.878 366.538Z" fill="#f5888e" fill-rule="nonzero" opacity="1" stroke="none" />
                </g>
            </svg>
            <span class="text-purp">تنبيهات</span>
        </a>
    </div>

      <!-- Welcome message now at the end -->
      <h3 class="px-lg-5 ms-auto text-purp">مرحبا بعودتك، {{user.first_name}} {{user.last_name}} !</h3>
    </div>

    <!-- Collapsible Alert Section -->
    <div class="row mb-5">
      <div class="col">
        <div class="collapse multi-collapse" id="multiCollapseExample1">
          <div class="alert alert-warning" role="alert">
            {% if unverified_count %}
            <h4>عمليات التحقق المطلوبة</h4>
            <p>يوجد حاليا <strong>{{ unverified_count }}</strong> حضانة بانتظار التحقق. يرجى مراجعة الطلبات لضمان التزام الحضانات بالمعايير المطلوبة.</p>
            <a href="{% url 'nurseries:verify_nurseries' %}" class="btn btn-outline-pink">مراجعة الحضانات</a>
            {% else %}
            <h4>لا توجد تنبيهات  </h4>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </div>

</section>


{% endblock %}

{% block content %}
<style>
    .nav-underline {
        display: flex;
        justify-content: center;
        padding: 10px 0;
    }

    .nav-underline .nav-link {
        color: #555;
        border-bottom: 2px solid transparent;
        padding: 10px 15px;
    }

    .nav-underline .nav-link:hover {
        border-color: #F5888E;
    }

    .nav-underline .nav-link.active {
        border-color: #F5888E;
    }
</style>

<nav class="nav nav-underline">


  <li class="nav-item">

    <a class="nav-link {% if request.resolver_match.url_name == 'verify_nurseries' or request.resolver_match.url_name == 'admin_dashboard' %}active{% endif %}" href="{% url 'nurseries:verify_nurseries' %}">طلبات تسجيل الحضانات

    </a>

  </li>

  <li class="nav-item">

    <a class="nav-link {% if request.resolver_match.url_name == 'admin_nursery_statistics' %}active{% endif %}" href="{% url 'nurseries:admin_nursery_statistics' %}">احصائيات الموقع </a>
  </li>

</nav>


<div class="container">
    {% block Dashboard-content %}
    {% endblock %}
</div>
{% endblock %}
